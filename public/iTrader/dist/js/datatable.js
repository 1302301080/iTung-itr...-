function CreateDatatable(a,b){if(a&&!(a.length<=0)){b=b||{},b.columnSchema&&AppendDataHeader(a,b);var c={language:b.language||messages.datatables,scrollX:"undefined"!=typeof b.scrollX&&b.scrollX,paging:"undefined"==typeof b.paging||b.paging,lengthChange:"undefined"!=typeof b.lengthChange&&b.lengthChange,searching:"undefined"==typeof b.searching||b.searching,ordering:"undefined"==typeof b.ordering||b.ordering,info:"undefined"==typeof b.info||b.info,autoWidth:"undefined"!=typeof b.autoWidth&&b.autoWidth,columns:b.columns||(b.columnSchema?ConvertToDataColumns(b.columnSchema):null),order:b.order,rowId:b.rowId||"DT_RowId",columnDefs:b.columnDefs,aoColumnDefs:b.aoColumnDefs,pageLength:b.pageLength,data:b.data,buttons:b.buttons,serverSide:b.serverSide,processing:b.processing,ajax:b.ajax,pagingType:b.pagingType||"simple_numbers",pagingInput:b.pagingInput||!0,columnSchema:b.columnSchema,columnHeaderPrefix:b.columnHeaderPrefix};b.dom&&(c.dom=b.dom);var d=a.DataTable(c).on("draw.dt",function(){a.format()});return d.UpdateRowData=function(a,c){if(b.columnSchema){HandleDataRows(a,{schema:b.columnSchema});var e,f=d.row("#"+a.DT_RowId);return c&&c.IsRemove&&c.IsRemove(a)?void(f&&"function"==typeof f.remove&&f.remove()):(f&&f.length>0?(e=f.row(f[0]),e.isNewRow=!1,e.data(a)):(e=d.row.add(a),e.isNewRow=!0),HandleDataColumns(d,e,{schema:b.columnSchema}),e)}},d}}function HandleDataColumns(a,b,c){if(c=c||{},c.schema)for(var d=0;d<c.schema.length;d++){var e=c.schema[d],f=$(a.cell(b.selector.rows,d).node());e.format&&f.attr("data-format",e.format),e["class"]&&f.addClass(e["class"])}}function HandleDataRows(a,b){if(b=b||{},b.schema)for(var c=0;c<b.schema.length;c++){var d=b.schema[c],e=d.key.toString();"undefined"==typeof a[e]&&("undefined"!=typeof d["default"]?a[e]=d["default"]:a[e]=null)}}function ConvertToDataColumns(a){for(var b=[],c=0;c<a.length;c++){var d=a[c].key.toString();b.push({data:d})}return b}function AppendDataHeader(a,b){var c=$("<tr></tr>");if(b=b||{},b.columnSchema)for(var d=0;d<b.columnSchema.length;d++){var e=b.columnSchema[d].i18n||b.columnHeaderPrefix+b.columnSchema[d].key;c.append("<td data-i18n='"+e+"'></td>")}a.find("thead").length<=0&&a.append($("<thead>")),a.find("thead").append(c)}function UpdateDataTableSymbolInfo(a,b){if(b&&b[tags.symbol]){for(var c=0;c<a.rows().data().length;c++){var d=a.row(c).data();d[tags.symbol]===b[tags.symbol]&&(d[tags.name]||(d[tags.name]=b[tags.name]||""),d[tags.currency]||(d[tags.currency]=b[tags.currency]||""),a.row(c).data(d))}$(a.table().node()).format()}}function UpdateDataTableSearchBox(a){!a||a.length<=0||a.find(".dataTables_filter label input").attr("placeHolder",messages.datatables.sSearchPlaceHolder)}