define(function(require,exports,module){var a=require("eipo-utility"),b=$("#login-form"),c=$("#login-submit"),d=b.find("input[name=username]"),e=b.find("input[name=password]");$("#eipo-container").translate("eipo"),c.click(function(){return d.val()?e.val()?($(this).attr("disabled","disabled"),void $.post("/eipo/user/login",b.serialize(),function(b){b&&(b.error?a.alertError(b.error):1==b.data&&(window.location.href="/")),$(this).removeAttr("disabled")}.bind(this))):void e.focus():void d.focus()}),a.upperCaseInput(),b.find("input").on("keypress",function(a){13===a.keyCode&&c.trigger("click")})});