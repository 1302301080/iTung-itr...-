define(function(require,exports,module){function a(a,b){f(),J=a,Y.init($("#tab-fund-position"),b),M=$("#fund-switch-in-table"),N=$("#fund-switch-out-table"),R=$("#fund-subscribe-form"),S=$("#fund-redeem-form"),T=$("#fund-select-submit"),H=$(".alert-info"),L=$(".tab-pane.active"),q(),r(),t(),p(),window.addEventListener("message",function(a){a.data&&"copy-symbol"===a.data.name&&("sell"===a.data.type&&$("[href='#tab-fund-redeem']").tab("show"),V&&V.length>0?V.val(a.data.symbol).trigger("blur"):$(".tab-pane.active .symbol-code").val(a.data.symbol).trigger("blur"))},!1),ia.InputFormat({format:function(a){return $._format.pattern(a,ba)}}),ja.InputFormat({format:function(a){return $._format.pattern(a,ca)}}),ja.InputPercentage({data:[10,20,50,100,0],total:0}),ka.on("input",function(){$(this).val($(this).val().toUpperCase())}),ka.blur(function(){U=!1;var a=$(this).val();o(a),0==ea?ia.focus():1==ea&&(ja.focus(),L.find(".dropdown-input-percentage").attr("data-total",GetMaxSellSync(a)||0))}),ka.keypress(function(a){13==a.keyCode&&$(this).trigger("blur")}),$("#fund-disclosure-accept-btn").on("click",function(){i(function(a){n(a)});var a=Number($(this).parents("[data-id]").attr("data-id"))+1;h(a)}),$("#search-fund-btn").click(function(){var a=$("#fund-search").val().toLowerCase().trim();e(a)}),$("#fund-search").keypress(function(a){var b=$("#fund-search").val().toLowerCase().trim();13==a.keyCode&&e(b)}),J.find('#fund-trade-panel a[data-toggle="tab"]').on("shown.bs.tab",function(a){var b=$(a.target).attr("href");"#tab-fund-switch"==b?(ea=2,T.attr("class","btn btn-sm btn-info pull-right"),G(),L=$(".tab-pane.active")):"#tab-fund-redeem"==b?(ea=1,T.attr("class","btn btn-sm btn-danger pull-right"),L=$(".tab-pane.active")):"#tab-fund-subscribe"==b&&(ea=0,T.attr("class","btn btn-sm btn-success pull-right"),L=$(".tab-pane.active"))}),J.find('input:radio[name="fund-order-action"]').change(function(){H.addClass("hidden"),J.find(".selected-fund-list").empty().addClass("hidden"),J.find(".selected-fund-label").addClass("hidden");var a=$(this).val();"subscribe"===a?(J.find(".selected-subscribe-fund-list").removeClass("hidden"),n(K)):"redeem"===a?(J.find(".selected-redeem-fund-list").removeClass("hidden"),n(K,{hasPosition:!0})):(J.find(".selected-switch-fund-list").removeClass("hidden"),J.find(".selected-fund-label").removeClass("hidden"),n(K,{hasPosition:!0}),H.text(messages.fund_switchout_select.text),H.removeClass("hidden"),I=0)}),T.click(function(){var a=L.find(".pending-submit-table tr");if(a.length>0){if(a.length<=1)return;for(var b=1;b<a.length;b++)for(var d=$(a[b]).find("input"),e=0;e<d.length;e++){var f=$(d[e]).val();if(!f||0==Number(f))return $(d[e]).val(""),void $(d[e]).focus()}c()}else u()}),OrderMgr.on(function(){$("#fund-switch-out-table .symbol-code").trigger("blur")}),j(),$(document).translate()}function b(){initial_data.ticket.clearAfterSubmit&&d()}function c(){for(var a=L.find(".pending-submit-table"),c=L.find("input[name=side]").val(),d=a.find("tr"),e="",f="",g=1;g<d.length;g++){var h=$(d[g]).find("td");if(!(h.length<3)){var i=$(h[1]).text(),j=$($(h[3]).find("input")).val();e+=0==c?"symbol={0}&price={1}&quantity={2}&".format(i,j,1):"symbol={0}&price={1}&quantity={2}&".format(i,1,j)}}e+="_csrf={0}&type=multi&side={1}".format(ha,c);var k=10;$("#fund-disclosure-panel").length>0&&(f=_.getDiscolsureCheckBox(k)),X.popupFundDisclaimer(function(a){a?W.submitCalcorder(e,{confirmBoxTitle:messages.order_confirmation_fund_title.text,addOrder:function(){showMessage({title:messages.order_confirmation_fund_title.text,buttonNameList:["submit","close"],message:C()+f,onshown:function(){_.checkboxAction()},callback:function(a,c){var d=a.attr("id");"btn-submit"===d&&$.ajax({type:"post",url:"/iTrader/order/submit",data:e,success:function(a){alertMessage({title:messages.dialog_information_title.text,message:D(a)})}}),c.close(),b()}})}}):b()})}function d(){}function e(a){a?n(K,{query:a}):n(K),$(".selected-fund-list [data-symbol]").each(function(){var a=$(this).attr("data-symbol");$("#fund-table input[data-symbol={0}]".format(a)).attr("checked",!0)})}function f(){$.get("/iTrader/fund/disclaimer?type=disclosure",function(a){var b;a&&a.url?(b=getMultiLanguageURL(a),g(b),$("#fund-disclosure-panel").attr("data-id","1"),$("#fund-list-panel").attr("data-id","2"),$("#fund-trade-panel").attr("data-id","3"),$.get(b,function(a){$("#fund-disclosure-content-div").html(a)})):($("#fund-list-panel").attr("data-id","1"),$("#fund-trade-panel").attr("data-id","2"),$("#fund-list-panel").removeClass("hidden"),g(b)),$("[step]").click(function(a){var b=$(a.target).attr("step");b&&($("[step={0}]".format(b)).hasClass("todo")||h(b))})})}function g(a){var b;if(b=a?["fund_step_disclosure","fund_step_select_fund","fund_step_trade_fund"]:["fund_step_select_fund","fund_step_trade_fund"])for(var c=0;c<b.length;c++){var d,e=$("<div>",{"class":"wrap"});d=0==c?$("<div>",{"class":"current",step:c+1}):$("<div>",{"class":"todo",step:c+1}),d.append($("<label>").append($("<span>",{"class":"round",text:c+1})).append($("<span>",{"data-i18n":b[c]}))).append($("<i>",{"class":"triangle-right-bg"})).append($("<i>",{"class":"triangle-right"})),e.append(d),$(".fund-workFlow").append(e).translate()}}function h(a){for(var b=1;b<=$("[step]").length;b++){var c="[data-id ={0}]".format(b),d="[step={0}]".format(b);b!=a?(b<a?$(d).attr("class","finished"):$(d).attr("class","todo"),$(c).addClass("hidden")):($(c).removeClass("hidden"),$(d).attr("class","current")),$(d).hasClass("finished")?$(d).find(".round").html("<i class='sui-icon icon-pc-right'></i>"):$(d).find(".round").html("<i>{0}</i>".format(b))}}function i(a){return K?a(K):void $.get("/iTrader/fund",function(b){K=b,a(b)})}function j(){$("#fund-next-btn").click(function(){var a=J.find('input[name="fund-order-action"]:checked ').val(),b=Number($(this).parents("[data-id]").attr("data-id"))+1;if("subscribe"===a){$("[href=#tab-fund-subscribe]").tab("show"),h(b);var c=k(J.find(".selected-subscribe-fund-list"));if(!c||c.length<=0)return;_.addNewPendSymbol(c,oa,{newRowHandler:s,clear:!0})}else if("redeem"===a){$("[href=#tab-fund-redeem]").tab("show"),h(b);var c=k(J.find(".selected-redeem-fund-list"));if(!c||c.length<=0)return;_.addNewPendSymbol(c,pa,{newRowHandler:s,clear:!0})}else I?(h(b),$("[href=#tab-fund-switch]").tab("show"),l()):(H.text(messages.fund_switchin_select.text),H.removeClass("hidden"),n(K),I=1)})}function k(a){if(a){var b=[];return a.find("[data-symbol]").each(function(){var a=$(this).attr("data-symbol"),c=A(a)||{};b.push({0:a,23:c[23],symbolName:_.getFullSymbolName(c)})}),b}}function l(){var a=$(".selected-switch-out-fund-list a[data-symbol]"),b=$(".selected-switch-in-fund-list a[data-symbol]");O.rows().remove().draw(),P.rows().remove().draw(),v(O,{isLastRow:!0,type:"in"}),v(P,{isLastRow:!0,type:"out"}),setTimeout(function(){b.each(function(){var a=$(this).attr("data-symbol");v(O,{isLastRow:!0,type:"in"}),M.find("input[name=switchin].symbol-code").each(function(){$(this).val()||$(this).val(a).trigger("blur")})}),a.each(function(){var a=$(this).attr("data-symbol");v(P,{isLastRow:!0,type:"out"}),N.find("input[name=switchout].symbol-code").each(function(){$(this).val()||$(this).val(a).trigger("blur")})})},100)}function m(a,b){if(a){H.addClass("hidden");var c,d=$('input:radio[name="fund-order-action"]:checked').val(),e=$("<a>",{"class":"symbol-code-tag",text:a,"data-symbol":a}).append($("<i>",{"class":"fa fa-times icon-btn-x"}));c="subscribe"===d?$(".selected-subscribe-fund-list"):"redeem"===d?$(".selected-redeem-fund-list"):I?$(".selected-switch-in-fund-list"):$(".selected-switch-out-fund-list"),c&&(c.removeClass("hidden"),b?c.find("[data-symbol="+a+"]").length<=0&&c.append(e):c.find("[data-symbol="+a+"]").remove()),z(a,function(a){a&&a.symbolName&&e.attr("title",a.symbolName)}),e.find("i").click(function(){var a=$(this).parent().attr("data-symbol");I||$("#fund-table input[data-symbol={0}]".format(a)).attr("checked",!1),$(this).parent().remove()})}}function n(a,b){if(a){b=b||{},Q.clear();for(var c=0;c<a.length;c++){var d=a[c];if(d&&d[0]){var e=d[0].toLowerCase(),f=GetMaxSellSync(d[0]),g=d.symbolName.toLowerCase();b.query&&e.indexOf(b.query)<0&&g.indexOf(b.query)<0||b.hasPosition&&Number(f)<=0||(d.rowIndex="<input type='checkbox' data-symbol='{0}' data-symbolName = '{1}'>".format(d[0],g),d.availableQuantity=$._format.pattern(f,ca),Q.UpdateRowData(a[c]))}}Q.draw(),$("#fund-table input").change(function(){m($(this).attr("data-symbol"),$(this).get(0).checked)})}}function o(a){a&&z(a,function(a){if(!U){U=!0,IsOTCFund(a)||(a=null);var b=L.find(".fund-info");if(b.empty(),!a)return void b.append($("<h4>",{text:messages.ticket_message_invalid_symbol.text}));var c=$("<h4>",{text:a.symbolName});if(a[3409]&&c.append($("<i>",{text:"Risk "+a[3409],"class":"highlight-tag highlight-tag-sm",style:"margin-left: 10px;"})),"Y"==a[3602]&&c.append($("<i>",{text:"CIES","class":"highlight-tag highlight-tag-sm",style:"margin-left: 10px;"})),b.append(c),a){for(var d=$(".active [href=#tab-fund-redeem]").length>0?1:0,e=X.getFundInfo(a,{side:d}),f=$("<td>").append($("<small>",{text:e.nav?e.nav.name+e.nav.value:""})),g=$("<td>").append($("<small>",{text:e.currency?e.currency.name+e.currency.value:""})),h=$("<td>").append($("<small>",{text:e.minAmt?e.minAmt.name+e.minAmt.value:""})),i=$("<td>").append($("<small>",{text:e.txn?e.txn.name+e.txn.value:""})),j=$("<td>").append($("<small>",{text:e.minTxnAmt?e.minTxnAmt.name+e.minTxnAmt.value:""})),k=$("<td>").append($("<small>",{text:e.availableQuantity?e.availableQuantity.name+e.availableQuantity.value:""})),l=_.getInfo([f,g,h,i,j,k]),m=$("<table>",{"class":"table table-condensed"}),n=0;n<l.length;n++)m.append(l[n]);b.append(m)}}})}function p(){Q=$("#fund-table").CreateDatatable({columnSchema:na,searching:!1,paging:!1,scrollY:!aa&&"400px",scrollCollapse:!0,order:[1,"asc"],aoColumnDefs:[{bSortable:!1,aTargets:[0]}]})}function q(){R.find(".btn-submit").click(function(){var a=L.find(".symbol-code").val();if(a&&A(a)){var b=A(a);_.addNewPendSymbol([{0:b[0],23:b[23],symbolName:_.getFullSymbolName(b),amount:ia.val()}],oa,{newRowHandler:s})}})}function r(){S.find(".btn-submit").click(function(){var a=L.find(".symbol-code").val();if(a&&A(a)){var b=A(a);_.addNewPendSymbol([{0:b[0],23:b[23],symbolName:_.getFullSymbolName(b),unit:ja.val()}],pa,{newRowHandler:s})}})}function s(a){if(a&&!(a.length<=0)){var b=L.find(".symbol-code");b.val()||b.val(a.attr("data-symbol")).trigger("blur"),a.find("[data-key=0]").click(function(){b.val($(this).parents("tr").attr("data-symbol")).trigger("blur")}),a.find("[data-key=amount]").InputFormat({format:function(a){return $._format.pattern(a,ba)}}),a.find("[data-key=unit]").InputFormat({format:function(a){return $._format.pattern(a,ca)}})}}function t(){var a;a=!aa&&[{width:"3%",targets:0},{width:"20%",targets:1},{width:"41%",targets:2},{width:"5%",targets:3},{width:"15%",targets:4},{width:"15%",targets:5},{width:"3%",targets:6}],O=M.CreateDatatable({columnSchema:la,info:!1,searching:!1,ordering:!1,paging:!1,columnDefs:a}),P=N.CreateDatatable({columnSchema:ma,info:!1,searching:!1,ordering:!1,paging:!1,columnDefs:a}),v(O,{isLastRow:!0,type:"in"}),v(O,{isLastRow:!0,type:"in"}),v(P,{isLastRow:!0,type:"out"}),v(P,{isLastRow:!0,type:"out"}),N.click(function(a){if($(a.target).hasClass("table-row-add"))v(P,{isLastRow:!0,type:"out"});else{if(!$(a.target).hasClass("table-row-remove"))return;P.row($(a.target).parents("tr")).remove().draw()}w(P)}),M.click(function(a){if($(a.target).hasClass("table-row-add"))v(O,{isLastRow:!0,type:"in"});else{if(!$(a.target).hasClass("table-row-remove"))return;O.row($(a.target).parents("tr")).remove().draw()}w(O)}),$(M.find("thead td")[0]).text("#"),$(N.find("thead td")[0]).text("#")}function u(){if(B()){$("#fund-switch-message").text("");var a=$("#fund-switch-form").serialize();a=a.replace(/%2C/g,"");var c,d=10;X.popupFundDisclaimer(function(e){e?W.submitCalcorder(a,{confirmBoxTitle:messages.order_confirmation_fund_title.text,addOrder:function(){showMessage({title:messages.order_confirmation_fund_title.text,buttonNameList:["submit","close"],message:E()+_.getDiscolsureCheckBox(d),onshown:function(){_.checkboxAction()},callback:function(d,e){var f=d.attr("id");"btn-submit"===f&&$.ajax({type:"post",url:"/iTrader/order/submit",data:a,success:function(a){var b=messages.order_confirmation_order_submitted_message.text,d=!0;a.error&&(b=messages.fund_switch_failed.text,d=!1),c=F(a.error,a.data),alertMessage({title:messages.dialog_information_title.text+" - "+b,message:c,type:d?BootstrapDialog.TYPE_SUCCESS:BootstrapDialog.TYPE_DANGER})}}),e.close(),b()}})}}):b()})}}function v(a,b){if(a&&b){if(b.isLastRow){var c=a.rows()[0].length;if(c>0){var d=a.row(c-1),e=d.data();e.rowIndex=c,e[0]=x("symbol",b),e.allocation=x("allocation"),e[4]=x("unit"),e.removeIcon=ga,d.data(e)}var f={rowIndex:fa};a.UpdateRowData(f)}a.draw();var g=$(a.table().container()),h=g.find(".symbol-code:last");h.focus(),h.keypress(function(a){13==a.keyCode&&y($(a.target).parents("tr"))}),h.on("input",function(){$(this).val($(this).val().toUpperCase())}),h.blur(function(a){y($(a.target).parents("tr"))}),h.parent().find(".input-group-addon").click(function(){V=null,V=$($(this).parent().find(".symbol-code"))}),g.find(".redeem-unit:last").keypress(function(b){13==b.keyCode&&v(a,{isLastRow:!0,type:"out"})}),g.find("input").each(function(){_.setInputSizeInMobile($(this))}),g.find(".subscription-amount:last").keypress(function(b){13==b.keyCode&&v(a,{isLastRow:!0,type:"in"})}),$(".switchout-unit").each(function(){$(this).InputPercentage({data:[10,20,50,100,0],total:0}),$(this).InputFormat({format:function(a){return $._format.pattern(a,ca)}})}),b.defaultSymbol&&h.val(b.defaultSymbol).trigger("blur")}}function w(a){if(a)for(var b=0;b<a.rows()[0].length-1;b++){var c=a.row(b).node();$(c).find("td:first").text(b+1)}}function x(a,b){return"symbol"===a?b&&"in"===b.type?"<div class='input-group input-group-sm'><input type='text' name='switchin' class='form-control input-sm symbol-code'><span class='input-group-addon'><a href='javascript:SearchProduct_Search(\"FUND\",\"0\")'><i class='fa fa-search text-muted'></i></span></div>":"<div class='input-group input-group-sm'><input type='text' name='switchout' class='form-control input-sm symbol-code'></div>":"unit"===a?"<input type='text' name='switchout' class='form-control input-sm switchout-unit'>":"allocation"===a?"<input type='text' name='switchin' class='form-control input-sm fund-allocation'>":void 0}function y(a){if(a){var b=$(a).find(".symbol-code").val(),c=$(a).find(".symbol-name"),d=$(a).find(".available-unit"),e=$(a).find(".symbol-currency");if(d.text(""),b){if(da[b]){var f=da[b];c.html(_.getFullSymbolName(f)),e.text(f[23])}else z(b,function(a){a?(da[b]=a,c.html(_.getFullSymbolName(a)),e.text(a[23])):c.text(messages.ticket_message_invalid_symbol.text)});var g=GetMaxSellSync(b);d.text(g?$._format.pattern(g,ca):0),$(a).find(".dropdown-input-percentage").attr("data-total",g)}}}function z(a,b){a?da[a]?b(da[a]):$.get("/iTrader/product?symbol="+a,function(c){var d=c.data;d?(da[a]=d,b(d)):b()}):b()}function A(a){if(a&&K)for(var b=0;b<K.length;b++)if(K[b][0]===a)return K[b]}function B(){var a=!0;J.find("tr").removeClass("danger");for(var b=J.find("#fund-switch-form table tr input"),c=0,d=0;d<b.length;d++){var e=$(b[d]);e.hasClass("percentage-input")||(e.val()||(e.parents("tr").addClass("danger"),a=!1),e.hasClass("symbol-code")?da[e.val()]||(e.parents("tr").addClass("danger"),a=!1):e.hasClass("fund-allocation")&&(c+=Number(e.val())))}return 100!=c&&($("#fund-switch-message").text(messages.fund_msg_allocation.text),a=!1),a}function C(){for(var a=[],b=L.find(".pending-submit-table tr[data-symbol]"),c=0;c<b.length;c++){var d=$(b[c]).attr("data-symbol");if(d){var e=A(d);a.push({0:d,23:e[23],amount:$(b[c]).find("[data-key=amount]").val(),unit:$(b[c]).find("[data-key=unit]").val(),symbolName:e.symbolName})}}var f=1==ea?ra:qa,g=_.createTable(a,f,{side:1==ea?1:0});return g?(g.find("table").addClass("dialog-table"),g.html()):""}function D(a){if(a){for(var b=(IsArray(a.error)?a.error:[]).concat(IsArray(a.data)?a.data:[]),c=0,d=0;d<b.length;d++){var e=b[d],f=A(e[0])||{},g="<i class='fa fa-check-circle text-success' style='margin-right:5px;'></i>";if(e._isErrorOrder){var h=(getErrorMessage(e)||"").replace("<br />","");e[25]=h,g="<i class='fa fa-times-circle text-danger' style='margin-right:5px;' title='{0}'></i>".format(h)}e[0]=g+e[0],e[23]=e[23]||f[23]||"",e.amount=$._format.amount(e[3]||0),e.unit=$._format.pattern(e[4]||0,ca),e.symbolName=f.symbolName||"",1!=e[11]&&5!=e[11]||(c=1)}var i=1==c?ta:sa,j=_.createTable(b,i,{side:c});return j?(j.find("table").addClass("dialog-table"),j.html()):""}}function E(){for(var a=[],b=N.find("tr"),c=1;c<b.length-1;c++){var d=$(b[c]);a.push({0:d.find(".symbol-code").val(),symbolName:d.find(".symbol-name").text(),23:d.find(".symbol-currency").text(),4:d.find(".redeem-unit input").val(),11:1})}for(var e=M.find("tr"),f=1;f<e.length-1;f++){var d=$(e[f]);a.push({0:d.find(".symbol-code").val(),symbolName:d.find(".symbol-name").text(),23:d.find(".symbol-currency").text(),allocation:d.find(".fund-allocation").val(),11:0})}var g=$(Z.GetFundSwitchInfo(null,a,{iconType:"none"}));return g.find("table").css("margin-bottom","20px"),g.attr("class","col-sm-12"),g.html()}function F(a,b){var c=(a?a:[]).concat(b?b:[]),d=$(Z.GetFundSwitchInfo(null,c,{iconType:"enhance"}));return d.html()}function G(){var a=$("#fund-switch-holding-panel").empty(),b=[];setInterval(function(){var c=Y.getAllPositions(),d=[];if(c){for(var e in c)d.push(c[e][0]);if(!b||d.sort().toString()!=b.sort().toString()){b=[];for(var e=0;e<c.length;e++)GetMaxSellSync(c[e][0])>0&&b.push(c[e][0]);a.empty();var f=$("<div>",{style:"word-wrap: break-word;"});b.length>0?f.append("<small><span>{0}</span></small>".format(messages.fund_switch_out_symbol_list_header.text)):f.append("<label>{0}</label>".format(messages.fund_switch_out_no_record.text));for(var e=0;e<b.length;e++){var g=$("<a class='symbol-code-tag' data-symbol='{0}'>{0}</a>".format(b[e]));g.click(function(){for(var a=$(this).text(),b=$(".tab-pane.active .symbol-code[name=switchout]"),c=0;c<b.length;c++){var d=$(b[c]);if(d.val()===a)return;if(!d.val())return void d.val(a).trigger("blur")}v(P,{isLastRow:!0,type:"out",defaultSymbol:a})}),f.append(g)}a.append(f)}}},1e3)}var H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W=require("ticket"),X=require("fund-ticket"),Y=require("fund-position"),Z=require("fundbook"),_=require("full-trade"),aa=require("mobile").GetIsMobile(),ba="#,##0.00######",ca=initial_data.format.fund_unit,da={},ea=0,fa="<a href='javascript:void(0)'><i class='fa fa-lg fa-plus-circle text-info table-row-add'></i></a>",ga="<a href='javascript:void(0)'><i class='fa fa-lg fa-remove text-danger table-row-remove'></i></a>",ha=$("input[name=_csrf]").val(),ia=$("#input-amount"),ja=$("#input-unit"),ka=$(".symbol-code"),la=[{name:"#",key:"rowIndex"},{name:"symbol",key:"0",i18n:"fund_switch_in_symbol"},{name:"symbol name",key:"symbolName",i18n:"fund_name","class":"symbol-name",mobile:!1},{name:"currency",key:"23","class":"symbol-currency",i18n:"column_currency"},{name:"temp",key:"",i18n:"","class":""},{name:"allocation",key:"allocation",i18n:"fund_switch_in_allocation","class":"subscription-amount",headClass:"bubble-title",headTitle:messages.fund_msg_allocation.text},{name:"remove",key:"removeIcon"}],ma=[{name:"#",key:"rowIndex"},{name:"symbol",key:"0",i18n:"fund_switch_out_symbol"},{name:"symbol name",key:"symbolName",i18n:"fund_name","class":"symbol-name",mobile:!1},{name:"currency",key:"23","class":"symbol-currency",i18n:"column_currency"},{name:"available unit",key:"availableUnit",i18n:"column_available_unit","class":"available-unit"},{name:"unit",key:"4",i18n:"fund_redeem_unit","class":"redeem-unit overflow-visible"},{name:"remove",key:"removeIcon"}],na=[{name:"#",key:"rowIndex","class":"prevent-popup-detail"},{name:"symbol",key:"0",i18n:"fund_symbol_code"},{name:"symbol name",key:"symbolName",i18n:"fund_name"},{name:"nav",key:"nav",i18n:"column_fund_nav","class":"text-right"},{name:"currency",key:"23",i18n:"column_currency"},{name:"risk",key:"RPQLevel",i18n:"column_risk_level","class":"text-right"},{name:"cies",key:"CIESFlag",i18n:"column_CIES"},{name:"position",key:"availableQuantity",i18n:"column_available_unit","class":"text-right"}];initial_data.views.full_trade&&initial_data.views.full_trade.fund&&initial_data.views.full_trade.fund.listSchema&&(na=initial_data.views.full_trade.fund.listSchema);var oa=[{name:"remove",key:"remove",type:"icon","class":"text-center pointer"},{name:"symbol",key:"0",text:messages.fund_symbol_code.text,"class":"pointer"},{name:"symbol name",key:"symbolName",text:messages.fund_name.text,mobile:!1},{name:"input amount",key:"amount",type:"input",text:messages.column_subscription_amount.text,"class":"text-right full-trade-input"},{name:"currency",key:"23",text:messages.column_currency.text}],pa=[{name:"remove",key:"remove",type:"icon","class":"text-center pointer"},{name:"symbol",key:"0",text:messages.fund_symbol_code.text,"class":"pointer"},{name:"symbol name",key:"symbolName",text:messages.fund_name.text,mobile:!1},{name:"input unit",key:"unit",type:"input",text:messages.fund_redeem_unit.text,"class":"text-right full-trade-input"},{name:"currency",key:"23",text:messages.column_currency.text}],qa=[{name:"symbol",key:"0",text:messages.fund_symbol_code.text},{name:"symbol name",key:"symbolName",text:messages.fund_name.text,mobile:!1},{name:"input amount",key:"amount",text:messages.column_subscription_amount.text,"class":"text-right"},{name:"currency",key:"23",text:messages.column_currency.text}],ra=[{name:"symbol",key:"0",text:messages.fund_symbol_code.text},{name:"symbol name",key:"symbolName",text:messages.fund_name.text,mobile:!1},{name:"input unit",key:"unit",text:messages.fund_redeem_unit.text,"class":"text-right"},{name:"currency",key:"23",text:messages.column_currency.text}],sa=[{name:"symbol",key:"0",text:messages.fund_symbol_code.text},{name:"symbol name",key:"symbolName",text:messages.fund_name.text,mobile:!1},{name:"input amount",key:"amount",text:messages.column_subscription_amount.text,"class":"text-right"},{name:"currency",key:"23",text:messages.column_currency.text},{name:"remark",key:"25",text:messages.column_remark.text}],ta=[{name:"symbol",key:"0",text:messages.fund_symbol_code.text},{name:"symbol name",key:"symbolName",text:messages.fund_name.text,mobile:!1},{name:"input unit",key:"unit",text:messages.fund_redeem_unit.text,"class":"text-right"},{name:"currency",key:"23",text:messages.column_currency.text},{name:"remark",key:"25",text:messages.column_remark.text}];$(document).on("page",function(a,b){"shown"===b&&Q&&Q.draw()}),exports.init=a,exports.addRow=v});