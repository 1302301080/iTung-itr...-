Number.MIN_SAFE_INTEGER||(Number.MIN_SAFE_INTEGER=-9007199254740991),ToNumber=function(a){if(a){if("string"==typeof a)return Number(a.replace(/,/g,""));if(!isNaN(a))return Number(a)}return 0},ReplaceComma=function(a){return"string"==typeof a?a.replace(/,/g,""):a},IsArray=function(a){return"object"==typeof a&&null!==a&&a.constructor===Array},String.prototype.startWith=function(a){var b=new RegExp("^"+a);return b.test(this)},String.prototype.endWith=function(a){var b=new RegExp(a+"$");return b.test(this)},String.prototype.format=function(){var a=this;if(arguments.length>0){var b;b=arguments[0]instanceof Array?arguments[0]:arguments;for(var c=0;c<b.length;c++){var d=new RegExp("\\{"+c+"\\}","gm");a=a.replace(d,b[c])}}return a},String.prototype.cformat=function(){var a=this;if(arguments.length>0){var b;b=arguments[0]instanceof Array?arguments[0]:arguments;for(var c=0;c<b.length;c++){var d=new RegExp("%"+(c+1)+"[s,d,n]","gm");a=a.replace(d,b[c])}}return a},"object"==typeof layer&&"function"==typeof layer.config&&layer.config({path:"/stylesheets/layer/",skin:"layer-custom"}),function($){var _ajax=$.ajax;$.ajax=function(a){if(a)return a.type&&"get"!==a.type.toLowerCase()||!a.url||(a.url.indexOf("?")<0?a.url+="?temp="+(new Date).getTime():a.url+="&temp="+(new Date).getTime()),_ajax(a)},$.fn.translate=function(prefix){var elements=$(this).find("[data-i18n]");elements.each(function(){var data_i18n=$(this).attr("data-i18n");if(data_i18n){data_i18n=data_i18n.indexOf(".")>=0?"."+data_i18n:"['{0}']".format(data_i18n);var obj=eval("messages{0}{1}".format(prefix?"['{0}']".format(prefix):"",data_i18n));if("string"==typeof obj)$(this).text(obj);else if("object"==typeof obj)for(var o in obj)"text"==o?$(this).text(obj[o]):"html"==o?$(this).html(obj[o]):$(this).attr(o,obj[o])}})},$.fn.CreateDrowdownGroup=function(a){function b(a){var b=g.find("[data-key={0}]".format(a));b.length>0&&(g.find("li").show(),f.attr("data-key",a),f.text(b.text()),b.parent().hide(),c.trigger("change",a))}if(a&&a.data&&!(a.data.length<=0)){this.empty();var c=$("<div>",{"class":"btn-group btn-group-xs",id:a.id||""}),d=$("<button>",{type:"button","class":"btn btn-success dropdown-toggle btn-group-label"}).append($("<span>",{"data-i18n":a.name.i18n||""}).text(a.name.value||"")),e=$("<button>",{type:"button","class":"btn btn-info dropdown-toggle"}),f=$("<span>",{"class":"dropdown-group-text","data-key":a.data[0].key||""}).text(a.data[0].value||"");e.append(f),a.data.length>1&&(e.append($("<span>",{"class":"caret"})),e.attr("data-toggle","dropdown"),e.attr("aria-haspopup",!1),e.attr("aria-expanded",!1));for(var g=$("<ul>",{"class":"dropdown-menu dropdown-group-list"}),h=0;h<a.data.length;h++){var i=a.data[h],j=$("<a href='javascript:void(0)' data-key='"+i.key+"'>"+i.value+"</a>"),k=$("<li></li>").append(j);g.append(k),i.key===a.data[0].key&&k.hide(),j.click(function(){var a=$(this).attr("data-key");b(a)})}c.append(d).append(e).append(g),"function"==typeof c.translate&&c.translate(),this.html(c),this.select=b}},$.fn.InputAutoUpper=function(a){this.on("input",function(){var a=this.val();a&&this.val(a.toUpperCase())}.bind(this))},$.fn.InputFormat=function(a){a=a||{},this.on("input",function(){var a=this.val();a&&a.indexOf(".")<0&&this.val($.number(a))}.bind(this)),"function"==typeof a.format&&this.on("blur",function(){this.val()&&this.val(a.format(this.val()))}.bind(this))},$.fn.InputPercentage=function(a){if(a&&!$(this).hasClass("dropdown-input-percentage")){var b=a.data;$(this).attr("data-total",a.total);for(var c=$("<ul>",{"class":"dropdown-menu"}),d=0;d<b.length;d++)b[d]<0||(0!=b[d]?c.append($("<li>").append($("<a>",{role:"menuitem",href:"javascript:void(0)","class":"percentage-input",text:b[d]+"%","data-percentage":b[d]}))):c.append($("<li>").append($("<input>",{href:"javascript:void(0)","class":"form-control percentage-input",placeHolder:"%"}))));$(this).attr("data-toggle","dropdown"),$(this).parent().append($("<div>",{"class":"dropdown"}).append($(this)).append(c)),c.find("li a").click(function(a){var b=$(a.target),c=$(this).attr("data-total"),d=b.attr("data-percentage");100==Number(d)?$(this).val($._format.pattern(c,"#,##0.########")):$(this).val($.number(c*d/100)),$(this).focus()}.bind(this)),c.find("input").on("input",function(a){var b=$(a.target),c=b.val();if(c){if(isNaN(c)||Number(c)<0||Number(c)>100)return void $(this).val("");var d=$(this).attr("data-total");100==Number(c)?$(this).val($._format.pattern(d,"#,##0.########")):$(this).val($.number(d*c/100))}}.bind(this)),c.find("input").on("blur",function(a){$(this).focus()}.bind(this)),$(this).addClass("dropdown-input-percentage")}},$.getUrlParam=function(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),c=window.location.search.substr(1).match(b);return null!=c?unescape(c[2]):null},$.getRandomUrl=function(a){var b="&tmp=";return a&&(b=a.indexOf("?")>0?"&tmp=":"?tmp="),(a||"")+b+(new Date).getTime()},$.fn.setOptionVisible=function(a){return a?this.filter("span > option").unwrap():this.filter(":not(span > option)").wrap("<span>").parent().hide(),this}}(jQuery),window.onerror=function(a,b,c,d,e){return $.post("/c",{msg:a,url:b,lineNo:c,columnNo:d,error:e,ua:navigator.userAgent}),!1};