define(function(require,exports,module){function a(a){if(a){var c,d,e=a.split(";");if(0===a.indexOf("T#"))e.length>=2&&(c=e[0].substring(2,e[0].length),d=e[1]);else if(a.indexOf("SP:")>=0)e.length>=3&&(c=e[0].substring(e[0].indexOf(":")+1,e[0].length),d=e[2]);else{e=a.split("&");for(var f=0;f<e.length;f++){var g=e[f].split("=");2===g.length&&("stock"===g[0]?c=g[1]:"price"===g[0]&&(d=g[1]))}}c&&d&&b({symbol:c,price:d})}}function b(a){a&&a.symbol&&a.price&&(window.opener?"function"==typeof window.opener.TicketSymbol_Input&&window.opener.TicketSymbol_Input(a):window.parent?window.parent.TicketSymbol_Input(a):"function"==typeof TicketSymbol_Input&&TicketSymbol_Input(a))}window.onload=function(){setInterval(function(){var b=window.status||window.defaultStatus||window.title;b&&(window.status="",window.defaultStatus="",window.title="",a(b))},300);var b=document.getElementById("market-price-form");b&&b.submit()},window.addEventListener("message",function(b){a(b.data)},!1)});