define(function(require,exports,module){function a(a,b,c){if(m&&0!=m.indexOf("en")?a.symbolName=a[36]:a.symbolName=a[21],a.offerPrice=l.formatWithPattern(a[32],c.price)+"~"+l.formatWithPattern(a[37],c.price),a[6]?a[5]=messages.eipo["status_"+a[5]].text:a[5]=0==a[5]?messages.eipo["ipo-status-close"].text:messages.eipo["ipo-status-open"].text,a&&b)for(var d=["1500","1501","1502","1503","1504","1513","1600"],e=0;e<b.length;e++){var f=b[e];f.key&&(f.format&&(a[f.key]=l.formatWithPattern(a[f.key],f.format)),d.indexOf(f.key)>=0&&a[f.key]&&(a[f.key]=moment(a[f.key],"YYYY-MM-DD").format(c.date)))}}function b(a,b,c){if(a&&!isNaN(a))return a=100*Number(a),b?l.formatWithPattern(a,b)+(c?"%":""):a.toFixed(2)+(c?"%":"")}function c(){var a=$("#login-type").val();"0"==a?($(".acct-visible").addClass("hidden"),$(".user-visible").removeClass("hidden")):($(".user-visible").addClass("hidden"),$(".acct-visible").removeClass("hidden"))}function d(a){var b;if(a)if("string"==typeof a)b=messages.error[a]||a;else if("object"==typeof a){var c=a.minorCode||a[464],d=a.errorCode||a[39],e=a.errorMsg||a.freeText||a[25];b=messages.error[c]||messages.error[d]||e,b||a.status&&(401==a.status?navigate():403==a.status?(a.responseJSON&&a.responseJSON.errorCode&&(b=messages.error[a.responseJSON.errorCode]),b=b||a.statusText):b=503==a.status?messages.error.I_10002:a.statusText?a.statusText:messages.error.I_10004)}return b||messages.error.I_10004}function e(a){k.alertError({message:"object"==typeof a?d(a):a})}function f(a){k.alertMessage({message:a})}function g(a){a&&(a.err?e(a.err):a.message&&f(a.message))}function h(a){if(a){var b=a.multi_language?getMultiLanguageURL(a.url):a.url;showMessage({title:a.title,message:$("<div></div>").load(b),buttonNameList:["agree","reject"],onshow:function(a){a.getModalBody().css("max-height","500px")},callback:a.callback})}}function i(a,b,c){if(a&&b)for(var d=-1,e=0;e<b.length;e++)if(!b[e].tooltip&&(d++,b[e].key==a))return d;return c||-1}function j(){$(".uppercase-field").on("input",function(){$(this).val($(this).val().toUpperCase())})}var k=require("dialog");$.fn.ellipsisText=function(){$(this).each(function(){var a=$(this.cloneNode(!0)).hide().css({position:"absolute",width:"auto",overflow:"visible"});return $(this).after(a),a.width()>$(this).width()?($(this).text($(this).text().substring(0,$(this).html().length-4)),$(this).html($(this).html()+"â€¦"),a.remove(),wordLimit(),void 0):void a.remove()})};var l=require("format"),m=$("html").attr("lang");exports.convertIPOData=a,exports.getMarginRatio=b,exports.handleAcctUserUI=c,exports.getErrorMessage=d,exports.alertError=e,exports.alertInfo=f,exports.popupDisclaimer=h,exports.popupInformation=g,exports.getIndexByKey=i,exports.upperCaseInput=j});